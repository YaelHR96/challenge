<!DOCTYPE html>

<html lang="es">
    <head>
        <meta charset="UFT-8">
        <meta name="viewport" content="width=device-width">
        <link rel="Website Icon" type="png" href="Imagenes/Logo.png">
        <title>Encriptador</title>
        <link rel="stylesheet" href="reset.css">
        <link rel="stylesheet" href="style.css">
        <script src="https://kit.fontawesome.com/eb496ab1a0.js" crossorigin="anonymous"></script>
    </head>

    <body>
        <header>
            <div class="caja">
                <img src="Imagenes/Logo (2).png" alt="Logo de Alura">
            </div>
        </header>

        <main>
            <button class="boton-circular" onclick="pegarTextoEnTextarea()">
                <img src="Imagenes/pegar.jpg" alt="pegar">
            </button>

            <form class="areatexto">
                <textarea placeholder="Ingrese el texto aqui" class="texto"></textarea>
            </form>

            <div class="advertencia">
                <p class="informacion"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" fill="currentColor" class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
                  </svg> Solo letras minúsculas y sin acentos</p>
            </div>

            <form class="zonabotones">
                <input type="submit" value="Encriptar" class="encriptar" onclick="encriptar()">
                <input type="submit" value="Desencriptar" class="desencriptar" onclick="desencriptar()">
            </form>

            <form class="resultado" >
                <div class="resultado1">
                    <img src="Imagenes/Muñeco.png" class="munheco">

                    <div class="mensajes">
                        <p class="mensaje1">Ningún mensaje fue encontrado</p>
                        <p class="mensaje2">Ingresa el texto que desees encriptar o desencriptar</p>
                    </div>
                </div>
                
                <div class="resultado2" style="display: none;">
                    <div class="areatexto2">
                        <textarea class="texto2" readonly></textarea>
                    </div>
                    
                    <div>
                        <input type="submit" value="Copiar" class="copiar" onclick = "copiarTexto()">
                    </div>
                </div>
            </form> 
        </main>

        <footer>
            <div class="pie-pagina">
                <div class="grupo-1">
                    <div class="box">
                        <h2>Realizado por Luis Yael Hernandez. Alura Challenges</h2>
                        <div class="red-social">
                            <a href="http://www.linkedin.com/in/luis-yael-hernandez-163a75190" class="fa fa-linkedin"></a>
                            <a href="https://github.com/YaelHR96" class="fa fa-github"></a>
                        </div>
                    </div>
                </div>

                <p class="copyright">&copy Copyright Encriptador - 2023</p>

            </div>
        </footer>

        <script>
            const textarea = document.querySelector("textarea");

            textarea.addEventListener("keyup", e =>{
                textarea.style.height= "48px";
                let scHeight= e.target.scrollHeight;
                textarea.style.height= `${scHeight}px`;
            }); 

            function encriptarTexto(texto) {
                texto = texto.replace(/e/g, 'enter');
                texto = texto.replace(/i/g, 'imes');
                texto = texto.replace(/a/g, 'ai');
                texto = texto.replace(/o/g, 'ober');
                texto = texto.replace(/u/g, 'ufat');
        
                return texto;
            }
        
            function desencriptarTexto(texto) {
                texto = texto.replace(/enter/g, 'e');
                texto = texto.replace(/imes/g, 'i');
                texto = texto.replace(/ai/g, 'a');
                texto = texto.replace(/ober/g, 'o');
                texto = texto.replace(/ufat/g, 'u');
        
                return texto;
            }
        
            function encriptar() {
                event.preventDefault();
                var texto = document.querySelector(".texto").value;
                var resultado1 = document.querySelector(".resultado1");
                var resultado2 = document.querySelector(".resultado2");
                var textarea2 = document.querySelector(".texto2");

                if (texto.match(/[^a-z\s]/) !== null) {
                    alert("El texto debe contener solo letras minúsculas.");
                    return;
                }
        
                textarea2.value = encriptarTexto(texto);
                resultado1.style.display = "none";
                resultado2.style.display = "block";
            }
        
            function desencriptar() {
                event.preventDefault();
                var texto = document.querySelector(".texto").value;
                var resultado1 = document.querySelector(".resultado1");
                var resultado2 = document.querySelector(".resultado2");
                var textarea2 = document.querySelector(".texto2");
        
                textarea2.value = desencriptarTexto(texto);
                resultado1.style.display = "none";
                resultado2.style.display = "block";
            }

            function copiarTexto() {
                event.preventDefault();
                var textarea2 = document.querySelector(".texto2");
                textarea2.select();
                document.execCommand("copy");
            }

            function pegarTextoEnTextarea() {
                var textarea = document.querySelector(".texto");
                textarea.value = "";
                textarea.focus();
                navigator.clipboard.readText()
                    .then(function(textoPegado) {
                        textarea.value = textoPegado;
                    })
                    .catch(function(err) {
                        console.error('Error al pegar el texto:', err);
                    });
            }
        </script>
    </body>
</html>

